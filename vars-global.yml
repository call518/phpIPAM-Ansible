#######################################
######### Common ######################
#######################################

#service_network_interface: "eth0"
mgmt_network_interface: "eth0"
data_network_interface: "eth0"

primary_dns_resolver_ip: "10.20.20.53"

common:
  dns_list:
    - "{{ primary_dns_resolver_ip }}"
    - "8.8.8.8"
  timezone: "Asia/Seoul"
  profile_name:
    Ubuntu: ".profile"
    CentOS: ".bash_profile"
  packages_remove:
    Ubuntu:
      - "postfix"
    CentOS:
      - "postfix"
  packages_install:
    Ubuntu:
      - "bind9-utils"
      - "nscd"
      - "vim"
      - "tcpdump"
      - "curl"
      - "wget"
      - "lrzsz"
      - "lsof"
      - "screen"
      - "fping"
      - "netcat"
      - "telnet"
    CentOS:
      - "epel-release"
      - "bind-utils"
      - "nscd"
      - "vim"
      - "tcpdump"
      - "curl"
      - "wget"
      - "lrzsz"
      - "lsof"
      - "screen"
      - "fping"
      - "nc"
      - "telnet"
  firewall:
    force_setup: false
    whitelist:
      - "127.0.0.0/8"
      - "0.0.0.0/0"		# Allow from All(Any)
      - "172.31.10.0/24"	# Allow from MGMT
      - "172.31.50.0/24"	# Allow from DATA
  ntp:
    ntp_servers:
      - "0.centos.pool.ntp.org"
      - "1.centos.pool.ntp.org"
      - "2.centos.pool.ntp.org"
      - "3.centos.pool.ntp.org"
    allows:
      - "127.0.0.1"
      #- "all"
  sysctl:
    - { name: "net.core.netdev_max_backlog", value: 65365 }
    - { name: "net.core.somaxconn", value: 65365 } # up the number of connections per port
    - { name: "vm.overcommit_memory", value: 1 } # turn on overcommit memory
    - { name: "vm.swappiness", value: 0 } # turn off swapping
    - { name: "net.ipv4.tcp_sack", value: 1 } # enable selective acknowledgements
    - { name: "net.ipv4.tcp_timestamps", value: 1 } # needed for selective acknowledgements
    - { name: "net.ipv4.tcp_window_scaling", value: 1 } # scale the network window
    - { name: "net.ipv4.tcp_congestion_control", value: "cubic" } # better congestion algorythm
    - { name: "net.ipv4.tcp_syncookies", value: 1 } # enable syn cookied
    #- { name: "net.ipv6.conf.all.disable_ipv6", value: 1 } # disable IPv6
    #- { name: "net.ipv6.conf.default.disable_ipv6", value: 1 } # disable IPv6
    #- { name: "net.ipv6.conf.lo.disable_ipv6", value: 1 } # disable IPv6
    #- { name: "net.ipv4.conf.all.forwarding", value: 0 } # disable IPv6
    #- { name: "net.ipv4.conf.all.rp_filter", value: 2 } # disable IPv6

#############################################
####### MySQL(MariaDB) ######################
#############################################

mysql_root_pw: "1234"
mysql_port: 3306
mysql_socket_path:
  Ubuntu: "/var/run/mysqld/mysqld.sock"
  CentOS: "/var/lib/mysql/mysql.sock"

mysql_default_file_cnf:
  user: "root"
  password: "{{ mysql_root_pw }}"
  host: "localhost"
  port: "{{ mysql_port }}"

#############################################
####### phpIPAM #############################
#############################################

phpipam_http_server:
  name: "phpipam.mgmt.rnd"
  port: 80

phpipam_git:
  repo: "https://github.com/phpipam/phpipam.git"
  dest: "/var/www/html"
  branch: "1.4"

phpipam_mysql_db:
  name: "phpipam"
  host: "localhost"
  port: 3306
  user: "phpipam_admin"
  pass: "changeme@phpipamadmin"

phpipam_enable_network_scanning: true

phpipam_mysql_db_cron_backup:
  enalbe: true
  backup_dir: "/home/phpIPAM-MySQL-DB-Backup"
  mysqldump_bin_path: "/usr/bin/mysqldump"
  save_days: 14


phpipam_config_php:
  BASE: "/"
  ### Mail sending and other parameters for pingCheck and DiscoveryCheck scripts
  ping_check_send_mail: "false" # true/false, send or not mail on ping check
  ping_check_method: "fping" # false/ping/pear/fping
  discovery_check_send_mail: "false" # true/false, send or not mail on discovery check
  discovery_check_method: "fping" # false/ping/pear/fping
  removed_addresses_send_mail: "false" # true/false, send or not mail on pomoving inactive addresses
  removed_addresses_timelimit: "86400 * 7" # int, after how many seconds of inactivity address will be deleted (7 days)
  resolve_emptyonly: "false" # if true it will only update the ones without DNS entry!
  resolve_verbose: "false" ## verbose response - prints results, cron will email it to you!
  ### Etc..
  debugging: "false"
  api_allow_unsafe: "false"
  phpsessname: "phpipamsess"
  ### Proxy Connection Details
  proxy_enabled: "false"
  proxy_server: "myproxy.something.com"
  proxy_port: 8080
  proxy_user: "USERNAME"
  proxy_pass: "PASSWORD"
  proxy_use_auth: "false"
  ### General tweaks
  logo_width: "220"
  requests_public: "true"
  split_ip_custom_fields: "false"

phpipam_cron:
  php_bin_path: "/usr/bin/php"
  health_check:
    weekday: "*"
    month: "*"
    day: "*"
    hour: "*"
    minute: "*/15"
  discovery_check:
    weekday: "*"
    month: "*"
    day: "*"
    hour: "*"
    minute: "*/15"

